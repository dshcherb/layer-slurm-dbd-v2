# slurm.conf file generated by Juju.

# active dbd host
{% if active_dbd_hostname %}
DbdHost={{ active_dbd_hostname }}
DbdAddr={{ active_dbd_ingress_address }}
{% elif active_dbd_ingress_address %}
DbdHost={{ active_dbd_ingress_address }}
DbdAddr={{ active_dbd_ingress_address }}
{% endif %}
# backup dbd host
# there is BackupDbdAddr, see https://bugs.schedmd.com/show_bug.cgi?id=1980
{% if backup_dbd_hostname %}
DbdBackupHost={{ backup_dbd_hostname }}
{% elif backup_dbd_ingress_address %}
DbdBackupHost={{ backup_dbd_ingress_address }}
{% endif %}

AuthType=auth/munge
PidFile={{ slurmdbd_pid_file }}
DbdPort={{ slurmdbd_port }} 
SlurmUser={{ slurm_user }}

DebugLevel={{ slurmdbd_debug }} 
LogFile={{ slurmdbd_log_file }}

{% if db_password %}
StorageType=accounting_storage/mysql
StorageHost={{ db_hostname }}
StoragePort={{ db_port }}
StoragePass={{ db_password }}
StorageUser={{ db_username }}
StorageLoc={{ db_name }}
{% endif %}
